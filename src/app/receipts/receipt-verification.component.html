@if(isLoading){
  <div class="container d-flex justify-content-center align-items-center primary" style="height: 100vh;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
}
@else{
<div class="container-fluid">
      <div class="row">
        <div class="col-12 col-lg-6">
          <div class="p-5">
            <div class="col-lg-6 col-12">
              <div class="form-group"> 
               
              </div>
              <div class="mt-3">              
               
                  @if(isImageLoad){
                    <div >
                        <img  [src]="imageBase64" class="img-fluid" alt="Image Preview" />
                      </div>
                  }
                  @else {
                    <div class="pdf-preview" class="mt-2">
                        <embed [src]="imageBase64" type="application/pdf" width="100%" height="400px" />
                      </div>
                  }
                
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-12 col-lg-6 mt-5">
          <form [formGroup]="receiptFormGroup">
          <div class="row">
            <div class="col-6 col-lg-6 mb-3">
              <label for="vendorName" class="form-label">Vendor Name</label>
              <input type="text" class="form-control" formControlName="vendorName" id="vendorName" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="vendorPhone" class="form-label">Vendor Phone</label>
              <input type="text" class="form-control" formControlName="vendorPhone"
              id="vendorPhone" placeholder="">
            </div>
            <div class="col-12 col-lg-6 mb-3">
              <label for="vendorAddress" class="form-label">Vendor Address</label>
              <input type="text" formControlName="vendorAddress"
              class="form-control" id="vendorAddress" placeholder="">
            </div>
            
            <div class="col-12 col-lg-6 mb-3">
              <label for="vendorEmail" class="form-label">Vendor Email</label>
              <input type="email" class="form-control" formControlName="vendorEmail"
              id="vendorEmail" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="customerName" class="form-label">Customer Name</label>
              <input type="text" class="form-control" formControlName="customerName"
              id="customerName" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="customerPhone" class="form-label">Customer Phone</label>
              <input type="email" class="form-control" formControlName="customerPhoneNumber"
              id="customerPhone" placeholder="">
            </div>
            <div class="col-12 col-lg-6 mb-3">
              <label for="customerAddress" class="form-label">Customer Address</label>
              <input type="email" class="form-control" formControlName="customerAddress" id="customerAddress" placeholder="">
            </div>
           
            <div class="col-6 col-lg-6 mb-3">
              <label for="invoiceNumber" class="form-label">Invoice Number</label>
              <input type="email" class="form-control" formControlName="invoiceNumber"
              id="invoiceNumber" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="invoiceDate" class="form-label">Invoice Date</label>
              <input type="text" formControlName="invoiceDate"
              class="form-control" id="invoiceDate" placeholder="">
              
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="subTotal" class="form-label">Subtotal</label>
              <input type="text" formControlName="subTotal" class="form-control" id="subTotal" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="taxAmount" class="form-label">Tax Amount</label>
              <input type="text" formControlName="taxAmount"
              class="form-control" id="taxAmount" placeholder="">
            </div>
            <div class="col-6 col-lg-6 mb-3">
              <label for="total" class="form-label">Total</label>
              <input type="text" class="form-control" formControlName="total"
              id="total" placeholder="">
            </div>
            
          </div>
      </form>
      <div class="row">
        <div class="col-6 col-lg-6 mb-3">
          <button (click)="resetControl()" class="btn btn-danger" style="width: 100%;">Back to Dashboard</button>
        </div>
        <div class="col-6 col-lg-6 mb-3">
          @if(isSaveLoader){
            <div class="d-flex justify-content-center">
                <div class="spinner-border" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div>
          }
          @else {
            <button [disabled]="!isSaveButtonEnable" (click)="saveReceipt()" class="btn btn-primary" style="width: 100%;">Save</button>
          }
         
        </div>
      </div>
      </div>
        
        
      </div>
    </div>




    <div class="container my-4">
      <table class="table table-striped table-bordered table-hover shadow-lg">
        <thead class="table-primary">
          <tr>
            <th class="text-center">Description</th>
            <th class="text-center">Expense</th>
            <th class="text-center">Qty</th>
            <th class="text-center">Unit</th>
            <!-- <th class="text-center">Discount</th> -->
            <th class="text-center">Total</th>
          </tr>
        </thead>
        <tbody>
          @for (item of receiptVerificationMaster.receiptVerificationItems; track $index) {
          <tr>
            <td><input type="text" [(ngModel)]="item.itemDescription" class="form-control" /></td>
            <td>
              <select class="form-select" aria-label="Default Select Category" [(ngModel)]="item.subCategoryId">
                <option selected>Select Sub Category</option>
                @for (item of expenseCategoriesDTO; track $index) {
                  @for (itemSub of item.expenseSubCategoriesDTOs; track $index) {
                    <option value="{{itemSub.subCategoryId}}">{{itemSub.subCategoryName}}</option>
                  }
                }
              </select>
            </td>
            <td><input type="text" [(ngModel)]="item.quantity" class="form-control" /></td>
            <td><input type="text" [(ngModel)]="item.unitPrice" class="form-control" /></td>
            <!-- <td><input type="text" [(ngModel)]="item.discount" class="form-control" /></td>  -->
            <td><input type="text" [(ngModel)]="item.total" class="form-control" /></td>
          </tr>
      }
        </tbody>
      </table>
    </div>
  }
  
  
    